<!DOCTYPE html>
<html  lang="en">
<head>
    <meta charset="utf-8" />

<meta name="generator" content="Hexo 4.2.0" />

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

<title>JavaScript 101 - John&#39;s Blog</title>


    <meta name="description" content="JavaScript语法快速入门指南">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaScript 101">
<meta property="og:url" content="http://john-ao.github.io/2019/07/09/JavaScript-101/index.html">
<meta property="og:site_name" content="John&#39;s Blog">
<meta property="og:description" content="JavaScript语法快速入门指南">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://john-ao.github.io/images/og_image.png">
<meta property="article:published_time" content="2019-07-09T10:47:17.000Z">
<meta property="article:modified_time" content="2020-03-21T11:36:03.258Z">
<meta property="article:author" content="John Ao">
<meta property="article:tag" content="guide">
<meta property="article:tag" content="JavaScript">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://john-ao.github.io/images/og_image.png">








<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css">


    
    
<style>body>.footer,body>.navbar,body>.section{opacity:0}</style>

    
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">

    
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">

    
    
    
    
<link rel="stylesheet" href="/css/back-to-top.css">

    
    
    
    
    
    
    
    <link rel="stylesheet" href="/css/progressbar.css">
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>
    
    <script async="" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    


<link rel="stylesheet" href="/css/style.css">
</head>
<body class="is-3-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/">
            
                <img src="/images/ao.svg" alt="JavaScript 101" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item"
                href="/">Home</a>
                
                <a class="navbar-item"
                href="/archives">Archives</a>
                
                <a class="navbar-item"
                href="/Categories">Categories</a>
                
                <a class="navbar-item"
                href="/Tags">Tags</a>
                
            </div>
            
            <div class="navbar-end">
                
                
                
                <a class="navbar-item search" title="Search" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>
    
    <section class="section">
        <div class="container">
            <div class="columns">
                <div class="column is-8-tablet is-8-desktop is-6-widescreen has-order-2 column-main">
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-07-09T10:47:17.000Z">2019-07-09</time>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    25 minutes read (About 3775 words)
                </span>
                
                
                <span class="level-item has-text-grey" id="busuanzi_container_page_pv">
                    <i class="far fa-eye"></i>
                    <span id="busuanzi_value_page_pv">0</span> visits
                </span>
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                JavaScript 101
            
        </h1>
        <div class="content">
            <p>JavaScript语法快速入门指南</p>
<a id="more"></a>

<hr>
<ul>
<li><p>变量名：字母_$开头，使用Unicode字符集，可以用各种字符</p>
</li>
<li><p>变量声明用<code>var / let / const</code>，var是全局作用域，有变量提升，<code>let</code>和<code>const</code>是块级作用域，无提升</p>
</li>
<li><p>注释：<code>//</code>单行；<code>/**/</code>多行但不能嵌套</p>
</li>
<li><p>数据类型</p>
<ul>
<li>原始类型：<code>Boolean / Null / Undefined / Number / BigInt / String / Symbol</code></li>
<li>Object：Array / RegExp / Date</li>
</ul>
</li>
<li><p>运算符</p>
<ul>
<li><code>+ - * / % **</code></li>
<li><code>?:</code></li>
<li><code>&gt; / &lt; / &gt;= / &lt;= / == / != / === / !===</code></li>
<li><code>&amp; | ^ ~ &gt;&gt; &lt;&lt; &gt;&gt;&gt;</code></li>
<li>优先级与C类似：成员(<code>. []</code>) &gt; 调用(<code>() new</code>) &gt; 一元(<code>! ~ - + -- ++ typeof void delete</code>) &gt; 四则 &gt; 移位 &gt; 关系(<code>&gt; &lt; &gt;= &lt;= in instanceof</code>) &gt; 判等 &gt; 与异或 &gt; 逻辑与或 &gt; 条件(<code>?:</code>) &gt; 赋值 &gt; 逗号</li>
</ul>
</li>
<li><p>控制语句</p>
<ul>
<li><p><code>if...else...else if</code></p>
</li>
<li><p><code>while(...){} / do{}while(...)</code></p>
</li>
<li><p>for循环</p>
<ul>
<li><code>for(;;)</code></li>
<li><code>for(in)</code>：以任意顺序迭代对象的可枚举属性</li>
<li><code>for(of)</code>：用于可迭代对象，比如 <code>Array / Map / String / TypedArray / arguments</code></li>
</ul>
</li>
<li><p>可以在for和while循环前加一个标签，这样在嵌套的时候就可以指定break或者continue哪一个循环了</p>
</li>
<li><p>switch语句中的case可以是任意常量、变量、表达式，在判等时使用的是===操作符，不会进行类型转换</p>
</li>
</ul>
</li>
<li><p><code>with(location){}</code>语句可以省去对象名和后面的.，在使用变量时会先查找全局变量，再查找location对象的属性</p>
</li>
<li><p>解构赋值</p>
<ul>
<li><p>数组</p>
<ul>
<li><code>[x, y]=[y, x]</code></li>
<li>可以带默认值<code>[x=1, y=2]=z</code></li>
<li>可以忽略<code>[,y]=z</code></li>
<li>可以用剩余参数<code>[x, ...y]=z</code></li>
</ul>
</li>
<li><p>对象</p>
<ul>
<li>定义时解构：<code>let {a, b}={a:1, b:2};</code></li>
<li>非定义时解构：<code>({a, b}={a:1, b:2});</code> 必须带括号</li>
<li>修改名称：<code>({a:aa, b:bb}=obj);</code></li>
<li>带默认值：<code>({a:aa=1, b=2}=obj);</code></li>
</ul>
</li>
<li><p>解构赋值可以用于函数定义中，也可用于<code>for...of</code>中</p>
</li>
<li><p>解构赋值可以嵌套，如<code>({a:[x,y]}=obj)</code></p>
</li>
</ul>
</li>
<li><p>判等</p>
<ul>
<li><code>===</code> 判断类型和值都相同，不会自动转换，<code>NaN!==NaN</code>，<code>+0===-0</code>。用于Array的indexOf和lastIndexOf方法</li>
<li><code>==</code> 自动转换再判等，规则如下表，其中 ToNumber(A) 表示转换为数字，这与 +A 效果相同，ToPrimitive(A) 通过尝试调用.toString()和.valueOf()方法，将A转换为原始值Primitive</li>
<li><code>Object.is</code> 同值相等，即二者是否在任何情况下都可以相互替换，+0和-0不同，但NaN和NaN相同</li>
<li>同值零相等：在同值相等的基础上认为+0和-0相等。用于<code>Set / Map / TypedArray / ArrayBuffer / Array</code>和String的<code>includes</code>方法</li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th><strong>A == B</strong></th>
<th><strong>Undefined</strong></th>
<th><strong>Null</strong></th>
<th><strong>Number</strong></th>
<th><strong>String</strong></th>
<th><strong>Boolean</strong></th>
<th><strong>Object</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>Undefined</strong></td>
<td>true</td>
<td>true</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>IsFalsy(B)</td>
</tr>
<tr>
<td><strong>Null</strong></td>
<td>true</td>
<td>true</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>IsFalsy(B)</td>
</tr>
<tr>
<td><strong>Number</strong></td>
<td>false</td>
<td>false</td>
<td>A === B</td>
<td>A === ToNumber(B)</td>
<td>A=== ToNumber(B)</td>
<td>A== ToPrimitive(B)</td>
</tr>
<tr>
<td><strong>String</strong></td>
<td>false</td>
<td>false</td>
<td>ToNumber(A) === B</td>
<td>A === B</td>
<td>ToNumber(A) === ToNumber(B)</td>
<td>ToPrimitive(B) == A</td>
</tr>
<tr>
<td><strong>Boolean</strong></td>
<td>false</td>
<td>false</td>
<td>ToNumber(A) === B</td>
<td>ToNumber(A) === ToNumber(B)</td>
<td>A === B</td>
<td>ToNumber(A) == ToPrimitive(B)</td>
</tr>
<tr>
<td><strong>Object</strong></td>
<td>false</td>
<td>false</td>
<td>ToPrimitive(A) == B</td>
<td>ToPrimitive(A) == B</td>
<td>ToPrimitive(A) == ToNumber(B)</td>
<td>A === B</td>
</tr>
</tbody></table>
<ul>
<li><p>判断类型用typeof操作符，括号可省略，返回值是以下字符串：<code>undefined、boolean、string、number、object、function、symbol(ES6)</code></p>
<ul>
<li><code>typeof null</code>是”object”</li>
<li>对于任意实现了<code>[[Call]]</code>方法的对象都会返回”function”，所以除了Function外的构造函数都是”object”</li>
</ul>
</li>
<li><p>如果想进一步判断是什么类型的object，用instanceof操作符</p>
</li>
<li><p>8进制字面量用0开头，如果无效则按十进制解析，在严格模式下不接受8进制字面量</p>
</li>
<li><p>Number</p>
<ul>
<li><p>new Number()返回对象</p>
</li>
<li><p>Number()将非数值转换为数值</p>
<ul>
<li>忽略前导0，与+等</li>
<li>对于null、””、false返回0，对于true返回1，不符合规范的字符串和undefined返回NaN，对象会依次调用valueOf和toString方法。</li>
<li>还可使用parseInt(str[,radix])、parseFloat，后者只支持十进制，且若结果为整数会返回整数</li>
</ul>
</li>
<li><p>常量：EPSILON / MAX_SAFE_INTEGER($2^{53}-1$) / MAX_VALUE / MIN_SAFE_INTEGER / MIN_VALUE / NaN /      NEGATIVE_INFINITY / POSITIVE_INFINITY</p>
</li>
<li><p>方法：isNaN / isFinite / isInteger / parseInt / parseFloat</p>
</li>
</ul>
</li>
<li><p>BigInt：大整型，在数字后面加n或者用构造函数</p>
</li>
<li><p>Object</p>
<ul>
<li><p><code>new Object() / {}</code></p>
</li>
<li><p>访问属性：<code>obj.foo.bar / obj[&quot;foo&quot;][&quot;bar&quot;]</code></p>
</li>
<li><p>列出属性</p>
<ul>
<li>for…in只会列出可枚举属性</li>
<li>Object.keys(o)返回o所有可枚举属性的数组</li>
<li>Object.getOwnPropertyNames(o)返回o所有属性的数组</li>
</ul>
</li>
<li><p>用b in a检查属性是否存在，delete a.b删除非继承的属性</p>
</li>
<li><p>getter和setter</p>
<ul>
<li>在对象初始化器中，可以通过在方法前加get表明是在访问属性时调用的函数，加set表明是在设置属性时调用的函数</li>
<li>为对象添加属性时用Object.defineProperty(obj, “<em>name</em>“, {get: function() {}, set: function(x) {}});</li>
</ul>
</li>
<li><p>Object对象的方法</p>
<ul>
<li><p>.assign(target, …sources)将源自己的可枚举属性值赋值给目标，会调用源的[[GET]]和目标的[[SET]]，是引用的话就是浅拷贝</p>
</li>
<li><p>.create(proto[,property])创建以proto为原型的对象，第二个参数与.defineProperties的第二个参数相同</p>
</li>
<li><p>.defineProperty(target, name, descriptor)定义新属性，也可用.defineProperties(target,{name1:descriptor1,…})</p>
</li>
<li><p>.entries()和.fromEntries可以转换为键值对列表或者转换回来</p>
</li>
<li><p>.getOwnProperty系列</p>
<ul>
<li>Descriptor / Descriptors：获取描述符</li>
<li>Names：获取名称，包括不可枚举属性，但不包括Symbols</li>
<li>Symbols：获取Symbol属性</li>
</ul>
</li>
<li><p>.[get/set]PrototypeOf：获取/设置[[Prototype]]属性，和<code>.__proto__</code>相同</p>
</li>
<li><p>.keys / .values：获取可枚举属性名/值</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>String</p>
<ul>
<li>‘’ / “” / ``(支持内部使用${}变量替换)</li>
<li>字符串不可变，操作只会返回新串</li>
<li>使用String()函数或.toString()方法可以转为字符串，但null和undefined没有后者，对字符串使用这个方法会返回一个副本，对数值使用时可以传入一个参数以指定基数</li>
<li>charAt和charCodeAt返回给定位置的字符/字符值</li>
<li>fromCharCode接收一串字符编码并转为String</li>
<li>concat拼接</li>
<li>取子串用slice / substring / substr，区别在于前两个参数格式为区间[a,b)，第三个的参数格式为(start, length)，在传入负数时，slice会加上字符串长度，substr第一个参数会加，第二个参数置零，substring都置零；</li>
<li>indexOf / lastIndexOf查询子串位置，可选参数为起始搜索位置；</li>
<li>trim返回一个去除首位空格的副本；</li>
<li>toLowerCase / toUpperCase / toLocale…大小写；</li>
<li>match相当于RegExp.exec，search返回位置，replace替换；</li>
<li>split分割，可选参数为截取的数组长度；</li>
<li>localeCompare用于比较</li>
</ul>
</li>
<li><p>Array</p>
<ul>
<li><p>创建：<code>[1,2] / [new] Array(1,2) / Array.of(1,2) / Array.from(_[,mapFn[,this]])</code></p>
</li>
<li><p>注意<code>new Array(length)</code>传入单个值的时候视为数组长度，如果不是整数会报错</p>
</li>
<li><p>用数组字面量创建数组时空着的元素为undefined，但结尾的逗号被忽略(早期会报错)</p>
</li>
<li><p>判断：Array.isArray()</p>
</li>
<li><p>索引查询越界返回undefined，对元素赋值或者修改length可以改变数组大小</p>
</li>
<li><p>indexOf() / lastIndexOf()寻找元素位置，includes()判断元素存在</p>
</li>
<li><p>keys / values / entries，返回键/值/键值对迭代器，键为0,1,2,…</p>
</li>
<li><p>flat()展开嵌套数组</p>
</li>
<li><p>数组操作</p>
<ul>
<li><p>不修改原数组：slice / concat / join</p>
</li>
<li><p>直接修改：<code>push / pop / shift / unshift / sort / reverse / splice</code></p>
<ul>
<li><code>splice(start[,delete_num[,items_to_add]])</code>：从起始位置删除[全部/若干]元素[并插入新元素]，支持负值</li>
<li><code>sort([fn])</code>：将元素转为String后按UTF-16非降序排列，默认fn类似(a,b)=&gt;a-b，ES标准中未要求a=b时ab顺序不变，新版本的浏览器一般支持。</li>
<li>以上各函数无明显意义时返回array的新长度</li>
</ul>
</li>
</ul>
</li>
<li><p>遍历方法</p>
<ul>
<li>every()，判断是否所有元素都满足条件，但对于空数组返回true；</li>
<li>some()，判断是否存在元素满足条件</li>
<li>find()，返回第一个满足条件的元素</li>
<li>findIndex()，返回第一个满足条件的元素的位置</li>
</ul>
</li>
<li><p>归并方法：</p>
<ul>
<li>filter()，对每一项运行给定函数，返回结果为true的元素构成的数组</li>
<li><code>map(f(value[,index[,array]])) / flatMap()</code>，对每一项运行给定函数，返回由结果构成的数组。需要注意传入的参数有3个，运行[“1”,”2”].map(parseInt)会出错，因为parseInt接收两个参数</li>
<li><code>reduce(f(acc, value[,index[,array]])[,initial])</code>和reduceRight()，接收两个参数，归并函数和可选的归并基础，归并函数接收4个参数，前一个值、当前值、当前索引、数组对象</li>
</ul>
</li>
<li><p>填充数组用<code>fill(value[, start[, end]])</code></p>
</li>
</ul>
</li>
<li><p>Boolean</p>
<ul>
<li>new Boolean([value])</li>
<li>如果忽略value或者是 <code>+0 / -0 / Null / false / NaN / undefined / &quot;&quot; / document.all</code>，那么生成的Boolean对象的值为false，否则为true，即使是”false”也一样</li>
<li>需要注意的是，在条件语句中(如if)，除undefined和null之外的对象都视为true，所以不能用值为false的Boolean对象</li>
<li>如果要将某个东西转换为布尔型，用Boolean()或者!!()，不要用构造函数</li>
</ul>
</li>
<li><p>Symbol</p>
<ul>
<li><code>foo=Symbol([description])</code></li>
<li>每次调用会创建一个新的symbol，symbol主要用于表示对象属性，比如a[foo]=bar</li>
</ul>
</li>
<li><p>Map</p>
<ul>
<li><p>创建：new Map([<em>iterable</em>])，如[[1,a], [2,b]]</p>
</li>
<li><p>合并：new Map([…map1, …map2])，如果有重复，后面的会覆盖前面的</p>
</li>
<li><p>访问元素</p>
<ul>
<li>set / has / get / delete / clear(清空)</li>
<li>keys / values / entries，返回键/值/键值对迭代器</li>
<li>.forEach / for(let [k, v] of map){} / for(let p of map){}</li>
</ul>
</li>
<li><p>获取大小用size属性</p>
</li>
<li><p>map[‘a’]=1只是设置Map对象的属性，无法被has等方法访问</p>
</li>
<li><p>Map和Object的区别</p>
<ul>
<li>有size属性、有性能优势</li>
<li>键可以是任意值，函数、对象、基本类型；Object的键只能是字符串或者Symbols</li>
<li>可直接进行迭代；而Object需要先获取它的键数组。</li>
<li>键值是有序的，迭代时会按插入顺序迭代；对象中的键则不是 (但自ES6对象保留字符串和Symbol键的创建顺序)</li>
<li>Object 都有自己的原型，原型链上的键名有可能产生冲突 (自ES5可以用Object.create(null)创建一个没有原型的对象)</li>
</ul>
</li>
</ul>
</li>
<li><p>Set</p>
<ul>
<li><p>创建：new Set([iterable])</p>
</li>
<li><p>转Array：[…set]</p>
</li>
<li><p>访问元素</p>
<ul>
<li>add / has / delete / clear(清空)</li>
<li>keys / values / entries，返回键/值/键值对迭代器(键和值相等)</li>
<li>.forEach / for(let v of set){}</li>
</ul>
</li>
<li><p>获取大小用size属性</p>
</li>
</ul>
</li>
<li><p>Function</p>
<ul>
<li><p>每个函数事实上都是一个Function对象，<code>(function(){}).constructor===Function</code>，可以用<code>new Function ([*arg1*[, *arg2*[, ...*argN*]],] *functionBody*)</code>创建函数(这样的函数没有闭包，eval创建的有闭包)</p>
</li>
<li><p>.length属性获取接收的参数个数，方法有apply / bind / call / toString</p>
</li>
<li><p>函数不能重载，后面的函数定义会覆盖之前函数的定义；函数声明存在提升，但如果是用初始化语句方式定义的函数则不会提升。</p>
</li>
<li><p>在被调用时会自动获得this和arguments变量</p>
<ul>
<li>this取决于函数的运行时环境，在全局函数或者嵌套函数中为window，如果是作为某个对象的方法调用那么就指向这个对象，在调用时指定this使用<code>.apply(that, [1, 2, 3])</code>，<code>.call(that,1,2,3) / .bind(that)</code>方法返回一个绑定了this的函数</li>
<li>箭头函数会捕捉作用域中的this而不重新定义</li>
<li>arguments是一个类似Array的对象，用于访问参数数组，它的内容与参数值保持同步，修改一个另一个也会改变；arguments.callee属性指向了这个函数(ES5严格模式下无效)；调用函数时的参数个数和它的参数列表不一定要相符</li>
</ul>
</li>
</ul>
</li>
<li><p>迭代器与生成器</p>
<ul>
<li>生成器：<code>function*</code>，<code>yield</code>，<code>yield*</code>将另一个迭代器的值作为返回值。可以直接迭代，f.next()会返回{value:xxx, done:true/false}，传入next的参数会作为yield语句的返回值，但第一次调用next时传入的参数被忽略</li>
<li>内置迭代器：Set / Map / String / Array / TypedArray</li>
<li>自定义迭代器：需要实现@@iterator方法，即有以Symbol.iterator为键的属性，例如<code>var myIterable = { *[Symbol.iterator]() { yield 1; yield 2; yield 3; } }</code></li>
</ul>
</li>
<li><p>Date对象表示日期</p>
<ul>
<li>new Date()返回包含当前时间的对象，Date()返回当前时间的字符串</li>
<li>Date.now()返回当前时间</li>
<li>Date.parse()解析日期字符串(不推荐使用)</li>
<li>Date.UTC()接收的参数为 年月日时分秒，月份从0开始，其余正常；Date()也支持这种用法，只不过是基于本地时间</li>
<li>注意：月份从0开始；当某个数值大于合理值时其他的会相应调整，比如new      Date(2013,13,1)实际上是2014-02-1</li>
</ul>
</li>
<li><p>JSON(JavaScript Object Notation)</p>
<ul>
<li>只有parse()和stringify()两个方法</li>
<li>属性名称必须是双引号括起来的字符串；最后一个属性后不能有逗号。</li>
<li>禁止出现前导零（ JSON.stringify 方法自动忽略前导零，而在 JSON.parse 方法中将会抛出 SyntaxError）；如果有小数点, 则后面至少跟着一位数字。</li>
</ul>
</li>
<li><p>基本包装类型：基本类型(Boolean、Number、String)不是对象，逻辑上说不应该有方法，而实际上有，是在后台创建了相应类型的对象，调用其方法，然后销毁，所以我们不能在运行时为它们添加属性</p>
</li>
<li><p>单体内置对象Global和Math</p>
<ul>
<li>不属于其他任何对象的属性和方法就属于Global对象，如isNaN之类的，它还包含encodeURI和encodeURIComponent方法，用于将非标准字符编码为标准字符，但前者不会处理:/?#，相应地还有decode…函数</li>
<li>在浏览器中window即为Global</li>
</ul>
</li>
<li><p>void加表达式，表示没有返回值</p>
<ul>
<li>点击javascript:链接时会用返回值替换当前页面，除非是undefined，所以加void</li>
<li>如果要定义函数并立即执行，可以void      function(){}();</li>
</ul>
</li>
<li><p>用<code>...</code>可以展开数组和对象，<code>let obj2＝{...obj1}</code>进行对象的(浅)拷贝</p>
</li>
<li><p>在try…catch…finally结构中finally一定会执行，就算在try/catch中return了也是这样，并且可以覆盖它们的返回值</p>
</li>
<li><p>Promise是一个代理对象，有pending/fulfilled/rejected三种状态，后两者合称settled</p>
<ul>
<li>约定传入的第一个函数在传入的第一个函数在成功时被调用，第二个函数在失败时被调用</li>
<li>用.then(f,g)添加回调函数，.catch(g)是.then(null,g)的缩写，回调函数f和g可以返回新的promise，或者用throw将控制权交给下一个处理错误的回调函数</li>
<li>在本轮事件循环完成之前，回调函数不会被调用</li>
<li>即使promise已经处于settled状态，还是可以用then / catch添加新的回调函数</li>
<li>在异步函数中(async function(){})可以使用await语法糖获取promise成功后的返回值，失败值需要用try{}catch(){}捕捉。这样可以简化有多个promise时的写法。<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myAsyncFunction</span>(<span class="params">url</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">   <span class="keyword">const</span> xhr = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">   xhr.open(<span class="string">"GET"</span>, url);</span><br><span class="line">   xhr.onload = <span class="function"><span class="params">()</span> =&gt;</span> resolve(xhr.responseText);</span><br><span class="line">   xhr.onerror = <span class="function"><span class="params">()</span> =&gt;</span> reject(xhr.statusText);</span><br><span class="line">   xhr.send();</span><br><span class="line">  &#125;);</span><br><span class="line"> &#125;;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>拓展内容：Reflex / Proxy / WeakSet / WeakMap / TypedArray / ArrayBuffer / DataView</p>
</li>
</ul>

        </div>
        
        <div class="level is-size-7 is-uppercase">
            <div class="level-start">
                <div class="level-item">
                    <span class="is-size-6 has-text-grey has-mr-7">#</span>
                    <a class="has-link-grey -link" href="/source/Tags/JavaScript/" rel="tag">JavaScript</a>, <a class="has-link-grey -link" href="/source/Tags/guide/" rel="tag">guide</a>
                </div>
            </div>
        </div>
        
        
        
    </div>
</div>





<div class="card card-transparent">
    <div class="level post-navigation is-flex-wrap is-mobile">
        
        <div class="level-start">
            <a class="level level-item has-link-grey  article-nav-prev" href="/2019/07/14/Arch/">
                <i class="level-item fas fa-chevron-left"></i>
                <span class="level-item">Arch linux installation guide</span>
            </a>
        </div>
        
        
        <div class="level-end">
            <a class="level level-item has-link-grey  article-nav-next" href="/2018/11/19/Ubuntu-guide/">
                <span class="level-item">Ubuntu guide</span>
                <i class="level-item fas fa-chevron-right"></i>
            </a>
        </div>
        
    </div>
</div>


</div>
                




<div class="column is-4-tablet is-4-desktop is-3-widescreen  has-order-1 column-left ">
    
        
<div class="card widget">
    <div class="card-content">
        <nav class="level">
            <div class="level-item has-text-centered" style="flex-shrink: 1">
                <div>
                    
                    <figure class="image is-128x128 has-mb-6">
                        <img class="is-rounded" src="/images/avatar_.png" alt="John Ao">
                    </figure>
                    
                    <p class="is-size-4 is-block">
                        John Ao
                    </p>
                    
                    
                    <p class="is-size-6 is-block">
                        Tsinghua University
                    </p>
                    
                    
                    <p class="is-size-6 is-flex is-flex-center has-text-grey">
                        <i class="fas fa-map-marker-alt has-mr-7"></i>
                        <span>Beijing, China</span>
                    </p>
                    
                </div>
            </div>
        </nav>
        <nav class="level is-mobile">
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Posts
                    </p>
                    <a href="/archives">
                        <p class="title has-text-weight-normal">
                            4
                        </p>
                    </a>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Categories
                    </p>
                    <a href="/categories">
                        <p class="title has-text-weight-normal">
                            0
                        </p>
                    </a>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Tags
                    </p>
                    <a href="/tags">
                        <p class="title has-text-weight-normal">
                            3
                        </p>
                    </a>
                </div>
            </div>
        </nav>
        
        <div class="level">
            <a class="level-item button is-link is-rounded" href="https://github.com/John-Ao" target="_blank" rel="noopener">
                Follow</a>
        </div>
        
        
        
        <div class="level is-mobile">
            
            <a class="level-item button is-white is-marginless" target="_blank" rel="noopener"
                title="Github" href="https://github.com/John-Ao">
                
                <i class="fab fa-github"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" rel="noopener"
                title="Twitter" href="https://twitter.com/JohnAo480_">
                
                <i class="fab fa-twitter"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" rel="noopener"
                title="RSS" href="/">
                
                <i class="fas fa-rss"></i>
                
            </a>
            
        </div>
        
    </div>
</div>
    
        
    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            Links
        </h3>
        <ul class="menu-list">
        
            <li>
                <a class="level is-mobile" href="https://hexo.io" target="_blank" rel="noopener">
                    <span class="level-left">
                        <span class="level-item">Hexo</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">hexo.io</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="http://tuixue.online" target="_blank" rel="noopener">
                    <span class="level-left">
                        <span class="level-item">TXPL</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">tuixue.online</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="https://www.ali213.net/zt/obf2/down/" target="_blank" rel="noopener">
                    <span class="level-left">
                        <span class="level-item">Ori 2</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">www.ali213.net</span>
                    </span>
                </a>
            </li>
        
        </ul>
        </div>
    </div>
</div>

    
        
<div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                Categories
            </h3>
            <ul class="menu-list">
            
            </ul>
        </div>
    </div>
</div>
    
        <div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            Tag Cloud
        </h3>
        <a href="/source/Tags/JavaScript/" style="font-size: 10px;">JavaScript</a> <a href="/source/Tags/guide/" style="font-size: 20px;">guide</a> <a href="/source/Tags/solution/" style="font-size: 10px;">solution</a>
    </div>
</div>
    
    
        <div class="column-right-shadow is-hidden-widescreen ">
        
            <div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            Recent
        </h3>
        
        <article class="media">
            
            <a href="/2019/07/14/Arch/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="Arch linux installation guide">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-07-14T14:28:45.000Z">2019-07-14</time></div>
                    <a href="/2019/07/14/Arch/" class="title has-link-black-ter is-size-6 has-text-weight-normal">Arch linux installation guide</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/07/09/JavaScript-101/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="JavaScript 101">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-07-09T10:47:17.000Z">2019-07-09</time></div>
                    <a href="/2019/07/09/JavaScript-101/" class="title has-link-black-ter is-size-6 has-text-weight-normal">JavaScript 101</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2018/11/19/Ubuntu-guide/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="Ubuntu guide">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2018-11-19T05:17:18.000Z">2018-11-19</time></div>
                    <a href="/2018/11/19/Ubuntu-guide/" class="title has-link-black-ter is-size-6 has-text-weight-normal">Ubuntu guide</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2018/08/29/AttackLab/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="Attack Lab">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2018-08-29T13:53:04.000Z">2018-08-29</time></div>
                    <a href="/2018/08/29/AttackLab/" class="title has-link-black-ter is-size-6 has-text-weight-normal">Attack Lab</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>
        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            Archives
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2019/07/">
                <span class="level-start">
                    <span class="level-item">July 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/11/">
                <span class="level-start">
                    <span class="level-item">November 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/08/">
                <span class="level-start">
                    <span class="level-item">August 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                Tags
            </h3>
            <div class="field is-grouped is-grouped-multiline">
                
                <div class="control">
                    <a class="tags has-addons" href="/source/Tags/JavaScript/">
                        <span class="tag">JavaScript</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/source/Tags/guide/">
                        <span class="tag">guide</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/source/Tags/solution/">
                        <span class="tag">solution</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
            </div>
        </div>
    </div>
</div>
        
        </div>
    
</div>

                




<div class="column is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only has-order-3 column-right ">
    
        <div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            Recent
        </h3>
        
        <article class="media">
            
            <a href="/2019/07/14/Arch/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="Arch linux installation guide">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-07-14T14:28:45.000Z">2019-07-14</time></div>
                    <a href="/2019/07/14/Arch/" class="title has-link-black-ter is-size-6 has-text-weight-normal">Arch linux installation guide</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/07/09/JavaScript-101/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="JavaScript 101">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-07-09T10:47:17.000Z">2019-07-09</time></div>
                    <a href="/2019/07/09/JavaScript-101/" class="title has-link-black-ter is-size-6 has-text-weight-normal">JavaScript 101</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2018/11/19/Ubuntu-guide/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="Ubuntu guide">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2018-11-19T05:17:18.000Z">2018-11-19</time></div>
                    <a href="/2018/11/19/Ubuntu-guide/" class="title has-link-black-ter is-size-6 has-text-weight-normal">Ubuntu guide</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2018/08/29/AttackLab/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="Attack Lab">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2018-08-29T13:53:04.000Z">2018-08-29</time></div>
                    <a href="/2018/08/29/AttackLab/" class="title has-link-black-ter is-size-6 has-text-weight-normal">Attack Lab</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>
    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            Archives
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2019/07/">
                <span class="level-start">
                    <span class="level-item">July 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/11/">
                <span class="level-start">
                    <span class="level-item">November 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/08/">
                <span class="level-start">
                    <span class="level-item">August 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                Tags
            </h3>
            <div class="field is-grouped is-grouped-multiline">
                
                <div class="control">
                    <a class="tags has-addons" href="/source/Tags/JavaScript/">
                        <span class="tag">JavaScript</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/source/Tags/guide/">
                        <span class="tag">guide</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/source/Tags/solution/">
                        <span class="tag">solution</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
            </div>
        </div>
    </div>
</div>
    
    
</div>

            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/">
                
                    <img src="/images/ao.svg" alt="JavaScript 101" height="28">
                
                </a>
                <p class="is-size-7">
                &copy; 2020 John Ao&nbsp;
                Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> & <a
                        href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a>
                
                <br>
                <span id="busuanzi_container_site_uv">
                Visited by <span id="busuanzi_value_site_uv">0</span> users
                </span>
                
                </p>
            </div>
            <div class="level-end">
            
                <div class="field has-addons is-flex-center-mobile has-mt-5-mobile is-flex-wrap is-flex-middle">
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/">
                        
                        <i class="fab fa-creative-commons"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/">
                        
                        <i class="fab fa-creative-commons-by"></i>
                        
                    </a>
                </p>
                
                </div>
            
            </div>
        </div>
    </div>
</footer>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("en");</script>


<script>
var IcarusThemeSettings = {
    site: {
        url: 'http://john-ao.github.io',
        external_link: {"enable":true,"exclude":[]}
    },
    article: {
        highlight: {
            clipboard: true,
            fold: 'unfolded'
        }
    }
};
</script>


<script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>





<script src="/js/animation.js"></script>



<script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
<script src="/js/gallery.js" defer></script>



<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        });
    });
</script>


<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    MathJax.Hub.Config({
        'HTML-CSS': {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
});
</script>


<a id="back-to-top" title="Back to Top" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>
<script src="/js/back-to-top.js" defer></script>














<script src="/js/main.js" defer></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="Type something..." />
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: 'Posts',
                PAGES: 'Pages',
                CATEGORIES: 'Categories',
                TAGS: 'Tags',
                UNTITLED: '(Untitled)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js" defer></script>
<link rel="stylesheet" href="/css/search.css">
<link rel="stylesheet" href="/css/insight.css">
    
</body>
</html>